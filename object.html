<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=\, initial-scale=1.0">
  <title>Objects in Java Script</title>
</head>

<body>

  <script src="helper.js"></script>

  <script>

    // Object creations

    const person = {
      id: 1,
      firstName: "John",
      lastName: "Doe",
      age: 50,
      eyeColor: "blue",
      fullName: function () {
        return this.firstName + " " + this.lastName;
      },
      getId: function () {
        return this.id;
      }
    };

    printB("Normal way to access object properties: <br>");
    printObject(person);
    b();

    printB("This is object keys: " + Object.keys(person) + "<br>");
    const personProperties = Object.keys(person);
    b();

    printB("This is object values: " + Object.values(person) + "<br>");
    b();

    print(person.fullName() + "<br>");

    // New Property Added
    person.nationality = "Indian";
    printObject(person);

    // Deleted property
    delete person.eyeColor;
    printObject(person);

    person.cars = {
      car1: "Ford",
      car2: "BMW",
      car3: "Fiat"
    };
    printObject(person);

    let personId = person.getId();
    print("Person Id: " + personId + "<br>");

    person.getAge = function () {
      return this.age;
    };

    let personAge = person.getAge();
    print("Person Age: " + personAge + "<br>");



    // Obejct Constructor 

    function Person(first, last, age, eye) {
      this.firstName = first;
      this.lastName = last;
      this.age = age;
      this.eyeColor = eye;
    }

    const myFather = new Person("Father", "Doe", 50, "blue");
    const myMother = new Person("Mother", "Rally", 48, "green");
    const mySister = new Person("Sister", "Rally", 18, "green");
    const mySelf = new Person("Me", "Rally", 22, "green");


    printObject(myFather);
    printObject(mySelf);

    mySelf.nationality = "Indian";
    printObject(mySelf);

    // but in myFather object nationality is not added because it is added after the object creation and it is added to mySelf object only. It is not added to myFather object.

    // but to add nationality to whole person object we can add it to the prototype of the Person constructor function.

    Person.prototype.nationality = "Indian";
    const myBrother = new Person("Brother", "Rally", 25, "green");
    printObject(myBrother.nationality); // it will print Indian because it is added to the prototype of the Person constructor function.

    print("myFather nationality: " + myFather.nationality + "<br>");
    print("Does myBrother have own nationality? " + myBrother.hasOwnProperty("nationality") + "<br>");


    //   nationality is added to the person.prototype not in the person object itself.So, it is not an own property of the person object.It is an inherited property from the prototype.

    //   myBrother
    //     |
    //     | --firstName
    //     | --lastName
    //     | --age
    //     | --eyeColor
    //     |
    //     ↓
    //   Person.prototype
    //     |
    //     | --nationality = "Indian"
    //     |
    //     ↓
    //   Object.prototype


    Person.prototype.changeName = function (name) {
      this.lastName = name;
    }

    myMother.changeName("Doe");
    printObject(myMother);


  </script>

  <script>
    function demoObjectKeys() {
      print("<h1>Object.keys() Behavior Demo</h1>");

      // 1. All string keys (non-integer)
      const obj1 = { a: 1, z: 10, c: 4, b: 3 };
      print("<h2>All string keys (non-integer)</h2>");
      print("Object: "); printObject(obj1);
      const keys1 = Object.keys(obj1);
      print("Object.keys(): " + keys1 + "<br>");
      // Output: ["a","z","c","b"] → insertion order

      // 2. All integer-like keys
      const obj2 = { 3: "three", 1: "one", 2: "two", 4: "four" };
      print("<h2>All integer-like keys</h2>");
      print("Object: "); printObject(obj2);
      const keys2 = Object.keys(obj2);
      print("Object.keys(): " + keys2 + "<br>");
      // Output: ["1","2","3","4"] → ascending numeric order

      // 3. Mixed string and integer keys
      const obj3 = { b: "B", 2: "two", a: "A", 1: "one", c: "C", 3: "three" };
      print("<h2>Mixed string and integer keys</h2>");
      print("Object: "); printObject(obj3);
      const keys3 = Object.keys(obj3);
      print("Object.keys(): " + keys3 + "<br>");
      // Output: ["1","2","3","b","a","c"]
      // Explanation:
      // - Integer-like keys first (ascending)
      // - Then string keys in insertion order

      // 4. Sorting keys explicitly
      print("<h2>Explicitly sorted keys</h2>");
      const sortedKeys = Object.keys(obj3).sort();
      print("Sorted alphabetically: " + sortedKeys + "<br>");
      const descKeys = Object.keys(obj3).sort().reverse();
      print("Sorted descending: " + descKeys + "<br>");

      // 5. Symbols (for completeness)
      const sym1 = Symbol("foo");
      const obj4 = { a: 1, [sym1]: "bar", b: 2 };
      print("<h2>Symbols</h2>");
      print("Object: "); printObject(obj4);
      const stringKeys = Object.keys(obj4); // only string keys
      print("Object.keys(): " + stringKeys + "<br>");
      const allSymbols = Object.getOwnPropertySymbols(obj4); // only symbol keys
      print("Object.getOwnPropertySymbols(): "); printObject(allSymbols);
    }

    demoObjectKeys();
  </script>


</body>

</html>